"use strict";const ifSelectorExist=(t="",e=(()=>{}),s=!0)=>{if($(t).length)return e();s&&IF_SELECTOR_EXIST_DEBUG_MODE&&console.warn(`Selector ${t} does not exist.`)};ifSelectorExist("[data-mask]",()=>$("[data-mask]").inputmask()),bsCustomFileInput.init();const isEmptyOrNull=t=>""===$.trim(t)||null==t,nullOrReturnValue=(t,e)=>isEmptyOrNull(t)?null:e,initDataTable=(t="",e={debugMode:!1,enableButtons:!1,url:"",columns:[]})=>$(()=>ifSelectorExist(t,()=>{const s={url:e.url,headers:AJAX_HEADERS,dataSrc:""},r={emptyTable:'\n\t\t\t<div class="text-center p-5">\n\t\t\t\t<h3>No records yet</h3>\n\t\t\t\t<div class="text-secondary">Hey! We found no records here yet.</div>\n\t\t\t</div>\n\t\t',loadingRecords:'\n\t\t\t<div class="text-center py-5 wait">\n\t\t\t\t<div class="spinner-border text-primary mb-3" role="status">\n\t\t\t\t\t<span class="sr-only">Loading ...</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="text-secondary">Making it ready ...</div>\n\t\t\t</div>\n\t\t',processing:'\n\t\t\t<div class="text-center p-5 wait">\n\t\t\t\t<div class="spinner-border text-primary mb-3" role="status">\n\t\t\t\t\t<span class="sr-only">Loading ...</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="text-secondary">Processing, please wait ...</div>\n\t\t\t</div>\n\t\t',zeroRecords:'\n\t\t\t<div class="text-center p-5">\n\t\t\t\t<h3>No match found</h3>\n\t\t\t\t<div class="text-secondary">No records was found that matched to your request. Please check if the spelling is correct or try other keywords.</div>\n\t\t\t</div>\n\t\t',paginate:{previous:'<i class="fas fa-caret-left mr-1"></i><span>Previous</span>',next:'<span>Next</span><i class="fas fa-caret-right ml-1"></i>'}},a=[{targets:[-1],orderable:!1}],n=[[0,"desc"]];let o=[],i=[];for(var l=1;l<e.columns.length-1;l++)o.push(l),l>=2&&i.push(l);var c;c=e.debugMode?{ajax:{url:e.url,headers:AJAX_HEADERS,success:t=>console.log(t)}}:e.enableButtons?{ajax:s,columns:e.columns,order:n,dom:'\n\t\t\t<"row w-100"\n\t\t\t\t<"col-md-2" l>\n\t\t\t\t<"col-md-6" B>\n\t\t\t\t<"col-md-4" f>\n\t\t\t>\n\t\t\t<t>\n\t\t\t<"row"\n\t\t\t\t<"col-md-6" i>\n\t\t\t\t<"col-md-6" p>\n\t\t\t>\n\t\t',responsive:!0,autoWidth:!1,buttons:[{extend:"copy",text:TEMPLATE.LABEL_ICON("Copy","copy"),className:"btn-sm btn-default",exportOptions:{columns:o}},{extend:"csv",text:TEMPLATE.LABEL_ICON("CSV","file-csv"),className:"btn-sm btn-default",exportOptions:{columns:o}},{extend:"excel",text:TEMPLATE.LABEL_ICON("Excel","file-excel"),className:"btn-sm btn-default",exportOptions:{columns:o}},{extend:"pdf",text:TEMPLATE.LABEL_ICON("PDF","file-pdf"),className:"btn-sm btn-default",exportOptions:{columns:o}},{extend:"print",text:TEMPLATE.LABEL_ICON("Print","print"),className:"btn-sm btn-default",exportOptions:{columns:o}},{extend:"colvis",text:TEMPLATE.LABEL_ICON("Columns","eye"),className:"btn-sm btn-default",columns:i}],columnDefs:a,language:r}:{ajax:s,columns:e.columns,order:n,responsive:!0,columnDefs:a,language:r},$(t).DataTable(c)})),reloadDataTable=t=>ifSelectorExist(t,()=>$(t).DataTable().ajax.reload());jQuery.validator.addMethod("lessThan",function(t,e,s){if($(s).length){const e=getValue(s);return!!isEmptyOrNull(e)||parseFloat(t)<parseFloat(e)}return!0},"It must be less than something"),jQuery.validator.addMethod("greaterThan",function(t,e,s){if($(s).length){const e=getValue(s);return!!isEmptyOrNull(e)||parseFloat(t)>parseFloat(e)}return!0},"It must be greater than something"),jQuery.validator.addMethod("lessThanOrEqualTo",function(t,e,s){if($(s).length){const e=getValue(s);if(!isEmptyOrNull(e)&&0!=e)return parseFloat(t)<=parseFloat(e)}return!0},"It must be less than or equal to something"),jQuery.validator.addMethod("greaterThan",function(t,e,s){if($(s).length){const e=getValue(s);if(!isEmptyOrNull(e)&&0!=e)return parseFloat(t)>=parseFloat(e)}return!0},"It must be greater than or equal to something"),jQuery.validator.addMethod("beforeToday",function(t,e,s){return this.optional(e)||isBeforeToday(t)},"Date and Time must be before today"),jQuery.validator.addMethod("afterToday",function(t,e,s){return this.optional(e)||isAfterToday(t)},"Date and Time must be before today"),jQuery.validator.addMethod("beforeTime",function(t,e,s){if($(s).length){const e=getValue(s);return!!isEmptyOrNull(e)||moment(t,"H:mm").isBefore(moment(e,"H:mm"))}return!0}),jQuery.validator.addMethod("afterTime",function(t,e,s){if($(s).length){const e=getValue(s);return!!isEmptyOrNull(e)||moment(t,"H:mm").isAfter(moment(e,"H:mm"))}return!0}),jQuery.validator.addMethod("beforeDateTime",function(t,e,s){if($(s).length){const e=getValue(s);return!!isEmptyOrNull(e)||moment(t,"YYYY-MM-DD HH:mm:ss").isBefore(moment(e,"YYYY-MM-DD HH:mm:ss"))}return!0}),jQuery.validator.addMethod("afterDateTime",function(t,e,s){if($(s).length){const e=getValue(s);return!!isEmptyOrNull(e)||moment(t,"YYYY-MM-DD HH:mm:ss").isAfter(moment(e,"YYYY-MM-DD HH:mm:ss"))}return!0});const validateForm=(t="",e={rules:{},messages:{},submitHandler:()=>{}})=>{ifSelectorExist(t,()=>{$(t).validate({rules:e.rules,messages:e.messages,errorElement:"div",errorPlacement:(t,e)=>{t.addClass("invalid-feedback"),e.closest(".form-group").append(t)},highlight:t=>$(t).addClass("is-invalid"),unhighlight:t=>$(t).removeClass("is-invalid"),submitHandler:e.submitHandler})},!1)},resetForm=t=>ifSelectorExist(t,()=>$(t).trigger("reset")),generateFormData=t=>new FormData($(t)[0]),fromNow=t=>moment(t).fromNow(),toNow=t=>moment(t).fromNow(),isBeforeToday=t=>moment(t).isBefore(moment()),isAfterToday=t=>moment(t).isAfter(moment()),formatDateTime=(t,e="")=>isEmptyOrNull(e)?moment(t).format():moment(t).format(e in DATETIME_FORMATS?DATETIME_FORMATS[e]:e),showModal=t=>ifSelectorExist(t,()=>$(t).modal("show")),hideModal=t=>ifSelectorExist(t,()=>$(t).modal("hide")),onHideModal=(t,e=(()=>{}))=>{ifSelectorExist(t,()=>$(t).on("hide.bs.modal",()=>e()))},onShowModal=(t,e=(()=>{}))=>{ifSelectorExist(t,()=>$(t).on("show.bs.modal",()=>e()))},setContent=(t,e)=>{"string"==typeof t?ifSelectorExist(t,()=>{$(t).html(e)}):"object"==typeof t?Object.keys(t).forEach(e=>ifSelectorExist(e,()=>$(e).html(t[e]))):console.error("[Error]: setContent error param type")},setValue=(t,e)=>{"string"==typeof t?ifSelectorExist(t,()=>$(t).val(e)):"object"==typeof t?Object.keys(t).forEach(e=>ifSelectorExist(e,()=>$(e).val(t[e]))):console.error("[Error]: setValue error param type")},getValue=t=>ifSelectorExist(t,()=>$(t).val()),enableElement=t=>ifSelectorExist(t,()=>$(t).prop("disabled",!1)),disableElement=t=>ifSelectorExist(t,()=>$(t).prop("disabled",!0)),enableOrDisableElement=(t,e)=>ifSelectorExist(t,()=>{e?$(t).prop("disabled",!0):$(t).prop("disabled",!1)}),checkElement=t=>ifSelectorExist(t,()=>$(t).prop("checked",!0)),uncheckElement=t=>ifSelectorExist(t,()=>$(t).prop("checked",!1)),checkOrUncheckElement=(t,e)=>ifSelectorExist(t,()=>{e?$(t).prop("checked",!0):$(t).prop("checked",!1)}),showElement=t=>ifSelectorExist(t,()=>$(t).show()),hideElement=t=>ifSelectorExist(t,()=>$(t).hide()),showOrHideElement=(t,e)=>ifSelectorExist(t,()=>e?$(t).show():$(t).hide()),onEvent=(t,e,s=(()=>{}))=>ifSelectorExist(t,()=>$(t).on(e,()=>s())),onClick=(t,e=(()=>{}))=>onEvent(t,"click",()=>e()),onChange=(t,e=(()=>{}))=>onEvent(t,"change",()=>e()),isChecked=t=>ifSelectorExist(t,()=>$(t).is(":checked")),formatName=(t="",e={firstName:"",middleName:"",lastName:"",suffixName:""})=>{const s=$.trim(e.firstName),r=$.trim(e.lastName);let a=$.trim(e.middleName),n=$.trim(e.suffixName);const o=isEmptyOrNull(a)?"":` ${a.charAt(0)}.`;a=isEmptyOrNull(a)?"":` ${a}`;const i={"L, F M., S":r+", "+s+o+(n=isEmptyOrNull(n)?"":`, ${n}`),"F M. L, S":s+o+" "+r+n};return t in i?i[t]:()=>(console.error(`Format "${t}" for name is invalid`),"")},formatNumber=t=>new Intl.NumberFormat("en-US").format(t),formatCurrency=t=>new Intl.NumberFormat("fil-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),btnToLoadingState=t=>{disableElement(t),setContent(t,'<div class="spinner-border spinner-border-sm mx-3">')},btnToUnloadState=(t,e)=>{enableElement(t),setContent(t,e)},GET_ajax=(t="",e={success:()=>{},error:()=>console.error("GET_ajax failed")})=>{$.ajax({url:t,type:"GET",headers:AJAX_HEADERS,success:e.success,error:e.error}).fail(e.error)},POST_ajax=(t="",e={},s={success:()=>{},error:()=>console.error("POST_ajax failed")})=>{$.ajax({url:t,type:"POST",headers:AJAX_HEADERS,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(e),success:s.success,error:s.error}).fail(s.error)},PUT_ajax=(t="",e={},s={success:()=>{},error:()=>console.error("PUT_ajax failed")})=>{$.ajax({url:t,type:"PUT",headers:AJAX_HEADERS,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(e),success:s.success,error:s.error}).fail(s.error)},DELETE_ajax=(t="",e={success:()=>{},error:()=>console.error("DELETE_ajax failed")})=>{$.ajax({url:t,type:"DELETE",headers:AJAX_HEADERS,success:e.success,error:e.error}).fail(e.error)};$(()=>{if(localStorage.getItem("sessioned_alert")){const t=localStorage.getItem("sessioned_alert_theme"),e=localStorage.getItem("sessioned_alert_message"),s={success:()=>toastr.success(e),info:()=>toastr.info(e),warning:()=>toastr.warning(e),error:()=>toastr.error(e)};setTimeout(()=>s[t](),500);const r=["sessioned_alert","sessioned_alert_theme","sessioned_alert_message"];setTimeout(()=>r.forEach(t=>localStorage.removeItem(t)),500)}});const setSessionedAlertAndRedirect=(t={theme:"",message:"",redirectURL:""})=>{localStorage.setItem("sessioned_alert",!0),localStorage.setItem("sessioned_alert_theme",t.theme),localStorage.setItem("sessioned_alert_message",t.message),location.assign(t.redirectURL)},setTimeline=(t,e={title:"",timelineData:[]})=>{ifSelectorExist(t,()=>{const s=e.timelineData;let r="";s.forEach(t=>{r=((t={icon:"",iconTheme:"",dateTime:"",timelineTitle:"",timelineBody:""})=>`\n\t\t\t\t<div>\n\t\t\t\t\t<i class="fas fa-${t.icon} bg-${t.iconTheme}"></i>\n\t\t\t\t\t<div class="timeline-item">\n\t\t\t\t\t\t<div class="time">\n\t\t\t\t\t\t\t${TEMPLATE.ICON_LABEL("clock",fromNow(t.dateTime))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="timeline-header">${t.timelineTitle}</div>\n\t\t\t\t\t\t<div class="timeline-body">${t.timelineBody}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`)({icon:t.icon,iconTheme:t.iconTheme,dateTime:t.dateTime,timelineTitle:t.timelineTitle,timelineBody:t.timelineBody})+r}),setContent(t,`\n        <div class="timeline">\n            <div class="time-label">\n                <span class="bg-primary shadow-sm">${e.title}</span>\n            </div>\n            ${r}\n            <div><i class="fas fa-clock bg-secondary"></i></div>\n        </div>\n    `)})},getURLQueryObj=()=>{const t=window.location.search,e=""===t?null:t.replace("?","").split("&");let s={};return e&&e.forEach(t=>{const e=t.split("=");s[e[0]]=e[1]}),s},getURLQueryString=(t={})=>{let e=[];Object.entries(t).forEach(([t,s])=>{isEmptyOrNull(s)||e.push(t+"="+s)});let s="";return e.forEach((t,e)=>{s+=0===e?"?":"&",s+=t}),s},setPagination=(t,e={query:"",totalRows:0,currentPage:0})=>{const s=parseInt(e.totalRows),r=parseInt(e.currentPage),a=t=>{let e=getURLQueryObj();return e.page=t,window.location.href.split("?")[0]+getURLQueryString(e)},n=Math.ceil(s/FETCH_ROWS);let o="";const i=t=>{o+=t==r?`\n\t\t\t\t<div class="page-item active">\n\t\t\t\t\t<div class="page-link">${t}</div>\n\t\t\t\t</div>\n\t\t\t`:`\n\t\t\t\t<div class="page-item">\n\t\t\t\t\t<a class="page-link" href="${a(t)}">${t}</a>\n\t\t\t\t</div>\n\t\t\t`},l=()=>o+='\n        <div class="page-item disabled">\n            <div class="page-link">\n                <i class="fas fa-ellipsis-h"></i>\n            </div>\n        </div>\n    ';if(o+=`\n        <div class="page-item${1==r?" disabled":""}">\n            <a class="page-link" href="${a(r-1)}">\n                <i class="fas fa-caret-left"></i>\n            </a>\n        </div>\n    `,r>3&&n>5&&(i(1),l()),r<3)for(let t=1;t<=5&&t<=n;t++)i(t);else if(r<=n-2)for(let t=r-2;t<=r+2&&t<=n;t++)i(t);else if(n>5)for(let t=n-4;t<=n;t++)i(t);else for(let t=1;t<=n;t++)i(t);r<n-2&&n>5&&(l(),i(n)),o+=`\n        <div class="page-item${r==n?" disabled":""}">\n            <a class="page-link" href="${a(r+1)}">\n                <i class="fas fa-caret-right"></i>\n            </a>\n        </div>\n    `,r>0&&r<=n&&setContent(t,o)},printContent=(t,e)=>{const s=window.open();s.document.write(TEMPLATE.PRINT(t,e)),s.document.close(),s.print(),s.onafterprint=(()=>s.close())},pluralize=(t,e)=>e>1||0===e?t+"s":t,daysLabels=(t,e)=>{let s=[],r=t.startOf("day");for(;r.diff(e.endOf("day"))<=0;)s.push(r.format()),r=r.add(1,"days");return s},getPathnamePart=(t=0)=>{const e=window.location.pathname.split("/");return e[e.length-t]};